#!/bin/sh
read _line
cat <<'JSON'
{"ok":true,"modsBar":{"title":"Personal Actions Playbook","markdown":"Use explicit Codex playbooks for personal actions. These actions insert transparent prompts into chat instead of running hidden auto-routing.","scope":"thread","actions":[{"id":"playbook-message","label":"Guide: Send Message","kind":"composer.insert","payload":{"text":"Help me send a message using a safe guided workflow. Use `$macos-send-message` if available.\n\nFollow this protocol:\n1. If intent is ambiguous, ask whether I mean personal texting or a coding/message feature.\n2. Clarify missing details first (recipient + exact body).\n3. Resolve recipient identity with read-only contact checks before any send.\n4. If multiple matches exist, ask me to choose one explicitly.\n5. Attempt best-effort recent-contact verification and state if unavailable.\n6. Show a draft preview in chat (recipient, handle, exact message).\n7. Ask for explicit confirmation phrase: \"send now\".\n8. Only after confirmation, execute send.\n9. Post a final action summary in chat with success/failure and timestamp.\n\nIf identity is ambiguous or verification fails, do not send."}},{"id":"playbook-calendar","label":"Guide: Calendar Review","kind":"composer.insert","payload":{"text":"Help me review my calendar with a clear and safe workflow. Use `$macos-calendar-assistant` if available.\n\nFollow this protocol:\n1. Confirm the time window (today, next N hours, or custom range).\n2. Perform read-only calendar lookup only.\n3. Summarize events in chronological order with start/end times and calendar names.\n4. Highlight conflicts and free blocks.\n5. Do not create, edit, or delete events unless I explicitly ask in a follow-up."}},{"id":"playbook-desktop","label":"Guide: Desktop Cleanup","kind":"composer.insert","payload":{"text":"Help me clean up my desktop safely. Use `$macos-desktop-cleanup` if available.\n\nFollow this protocol:\n1. Generate a preview plan first (candidate files, destination folders, operation count).\n2. Show the preview in chat and ask for explicit confirmation phrase: \"apply cleanup\".\n3. Execute only move operations (no permanent delete).\n4. Record/return undo manifest details.\n5. Post a completion summary with moved count and undo instructions."}}]}}
JSON
